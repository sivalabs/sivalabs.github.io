<!DOCTYPE html>
<html lang="en-US" prefix="og: http://ogp.me/ns#">
<head>
    
    
    <div class="analytics">
        
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-71296890-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

    </div>
    
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="title" property="title" content="SivaLabs - Spring Cloud Tutorials – Introduction to Spring Cloud Config Server">
    <meta name="description" property="description" content="Java, Spring, SpringBoot, SpringCloud, JPA, Hibernate, DevOps, MicroServices, Docker tutorials - " >
    <title>SivaLabs - Spring Cloud Tutorials – Introduction to Spring Cloud Config Server </title>
    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Spring Cloud Tutorials – Introduction to Spring Cloud Config Server"/>
<meta name="twitter:description" content="Problem SpringBoot provides lot of flexibility in externalizing configuration properties via properties or YAML files. We can also configure properties for each environment (dev, qa, prod etc) separately using profile specific configuration files such as application.properties, application-dev.properties, application-prod.properties etc. But once the application is started we can not update the properties at runtime. If we change the properties we need to restart the application to use the updated configuration properties."/>
<meta name="twitter:site" content="@sivalabs"/>

    <meta name="twitter:creator" content="@sivalabs"/>
    <meta property="og:title" content="Spring Cloud Tutorials – Introduction to Spring Cloud Config Server" />
<meta property="og:description" content="Problem SpringBoot provides lot of flexibility in externalizing configuration properties via properties or YAML files. We can also configure properties for each environment (dev, qa, prod etc) separately using profile specific configuration files such as application.properties, application-dev.properties, application-prod.properties etc. But once the application is started we can not update the properties at runtime. If we change the properties we need to restart the application to use the updated configuration properties." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://sivalabs.github.io/2017/08/spring-cloud-tutorials-introduction-to-spring-cloud-config-server/" />
<meta property="article:published_time" content="2017-08-14T03:35:07&#43;00:00"/>
<meta property="article:modified_time" content="2017-08-14T03:35:07&#43;00:00"/>

    
<meta itemprop="name" content="Spring Cloud Tutorials – Introduction to Spring Cloud Config Server">
<meta itemprop="description" content="Problem SpringBoot provides lot of flexibility in externalizing configuration properties via properties or YAML files. We can also configure properties for each environment (dev, qa, prod etc) separately using profile specific configuration files such as application.properties, application-dev.properties, application-prod.properties etc. But once the application is started we can not update the properties at runtime. If we change the properties we need to restart the application to use the updated configuration properties.">


<meta itemprop="datePublished" content="2017-08-14T03:35:07&#43;00:00" />
<meta itemprop="dateModified" content="2017-08-14T03:35:07&#43;00:00" />
<meta itemprop="wordCount" content="1478">



<meta itemprop="keywords" content="Spring,SpringBoot,SpringCloud," />


    <link rel='stylesheet' href="/assets/css/custom-fonts.css" type='text/css' media='all'/>

    <link rel='stylesheet' href="/assets/css/style.css" type='text/css' media='all'/>
    <link rel='stylesheet' href="/assets/css/genericons.css" type='text/css' media='all'/>
    <link rel='stylesheet' href="/assets/css/font-awesome.min.css" type='text/css' media='all'/>
    <link rel='stylesheet' href="/assets/css/socicon.css" type='text/css' media='all'/>
    <link rel="stylesheet" href="/assets/css/social-logos/social-logos.css" type="text/css" media="all">
    <link rel='stylesheet' href="/assets/css/jetpack.css" type='text/css' media='all'/>
    <link rel='stylesheet' href="/assets/css/custom-styles.css" type='text/css' media='all'/>

    <script type='text/javascript' src="/assets/js/jquery-1.12.4.min.js"></script>
    <script type='text/javascript' src="/assets/js/html5shiv.min.js"></script>
    <script type='text/javascript' src="/assets/js/navigation.js"></script>

    <link rel="shortcut icon" href="/favicon.png" type="image/x-icon" />
    
</head>
<body class="home blog logged-in admin-bar no-customize-support post-layout-one-column">
    <div id="header-top" class="header-bar-wrap"></div>
    <div id="page" class="hfeed site">
        <a class="skip-link screen-reader-text" href="#content">Skip to content</a>
        <header id="masthead" class="site-header clearfix" role="banner">
    <div class="header-main container clearfix">
        <div id="logo" class="site-branding clearfix">
            <h1 class="site-title">
                <a href="/" title="SivaLabs" rel="home">SivaLabs</a>
            </h1>
            <p class="site-description">My Experiments on Technology</p>
        </div>
        <div class="header-widgets clearfix">
        </div>
    </div>
    <div id="main-navigation-wrap" class="primary-navigation-wrap">
        <nav id="main-navigation" class="primary-navigation navigation container clearfix" role="navigation">
            <ul id="menu-home" class="main-navigation-menu">
                <li id="menu-item-1145" class="menu-item menu-item-type-custom menu-item-object-custom current-menu-item current_page_item menu-item-home menu-item-1145">
                    <a href="/">Home</a>
                </li>
                <li id="menu-item-1421" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1421">
                    <a href="/categories/java">Java</a>
                </li>
                <li id="menu-item-1423" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-1423">
                    <a href="/categories/spring">Spring</a>
                    <ul class="sub-menu">
                        <li id="menu-item-1424" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1424">
                            <a href="/categories/springboot">Spring Boot</a>
                        </li>
                        <li id="menu-item-1425" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1425">
                            <a href="/categories/springcloud">Spring Cloud</a>
                        </li>
                    </ul>
                </li>
                <li id="menu-item-1422" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1422">
                    <a href="/categories/microservices">MicroServices</a>
                </li>
                <li id="menu-item-1151" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1151">
                    <a href="/videos">Videos</a>
                </li>
                <li id="menu-item-1161" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1161">
                    <a href="/mybooks">My Books</a>
                </li>
                <li id="menu-item-1146" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1146">
                    <a href="/contact">Contact</a>
                </li>
            </ul>
        </nav>
    </div>
</header>
        <div id="content" class="site-content container clearfix">
            <section id="primary" class="content-archive content-area">
                
<main id="main" class="site-main" role="main">
<article class="post type-post status-publish format-standard hentry">
    <div class="post-inner-content">
        <header class="entry-header">
    <div class="entry-meta">
        <span class="meta-date">
            <a href="https://sivalabs.github.io/2017/08/spring-cloud-tutorials-introduction-to-spring-cloud-config-server/" rel="bookmark">
                <time class="entry-date published" datetime="2017-08-14T03:35:07">
                August 14, 2017
                </time>
            </a>
        </span>
        <span class="meta-author">
            <span class="author vcard">Siva</span>
        </span>
    </div>
    <h2 class="entry-title">
        <a href="https://sivalabs.github.io/2017/08/spring-cloud-tutorials-introduction-to-spring-cloud-config-server/" rel="bookmark">
            Spring Cloud Tutorials – Introduction to Spring Cloud Config Server
        </a>
    </h2>
    <div>
        
        
        
        <span class="tagcloud post-tags">
            <i class="fa fa-tags"></i>
            
            <a class="tag-cloud-link widget__link widget__link--taglist" href="/tags/spring/">Spring</a>
            &nbsp;
            
            <a class="tag-cloud-link widget__link widget__link--taglist" href="/tags/springboot/">SpringBoot</a>
            &nbsp;
            
            <a class="tag-cloud-link widget__link widget__link--taglist" href="/tags/springcloud/">SpringCloud</a>
            
            
        </span>
        
        
    </div>
</header>

        <div class="entry-content">
            

<h1 id="problem">Problem</h1>

<p>SpringBoot provides lot of flexibility in externalizing configuration properties via properties or YAML files. We can also configure properties for each environment (dev, qa, prod etc) separately using profile specific configuration files such as <strong>application.properties</strong>, <strong>application-dev.properties</strong>, <strong>application-prod.properties</strong> etc. But once the application is started we can not update the properties at runtime. If we change the properties we need to restart the application to use the updated configuration properties.</p>

<p>Also, in the context of large number of MicroService based applications, we want the ability to configure and manage the configuration properties of all MicroServices from a centralized place.</p>

<h1 id="solution">Solution</h1>

<p>We can use <strong>Spring Cloud Config Server</strong> (<a href="http://cloud.spring.io/spring-cloud-static/Dalston.SR2/#_spring_cloud_config">http://cloud.spring.io/spring-cloud-static/Dalston.SR2/#_spring_cloud_config</a>) to centralize all the applications configuration and use <strong>Spring Cloud Config Client</strong> module from the applications to consume configuration properties from Config Server. We can also update the configuration properties at runtime without requiring to restart the application.</p>

<blockquote>
<p>Many of the Spring Cloud modules can be used in SpringBoot applications even though you are not going to deploy your application in any Cloud platforms such as AWS, Pivotal CloudFoundry etc.</p>
</blockquote>

<h2 id="spring-cloud-config-server">Spring Cloud Config Server</h2>

<p>Spring Cloud Config Server is nothing but a SpringBoot application with a configured configuration properties source. The configuration source can be a <strong>git</strong> repository, <strong>svn</strong> repository or Consul service (<a href="https://www.consul.io/">https://www.consul.io/</a>).</p>

<p><img class="aligncenter size-full" src="/images/config.png" sizes="(max-width: 648px) 100vw, 648px" data-recalc-dims="1" /></p>

<p>In this post we are going to use a git repository as configuration properties source.</p>

<h3 id="git-config-repository">Git Config Repository</h3>

<p>Create a git repository to store properties files. I have created a repository <strong>config-repo</strong> in GitHub ie <a href="https://github.com/sivaprasadreddy/config-repo.git">https://github.com/sivaprasadreddy/config-repo.git</a>.</p>

<p>Suppose we are going to develop two SpringBoot applications <strong>catalog-service</strong> and <strong>order-service</strong>.
Let us create configuration files <strong>catalogservice.properties</strong> and <strong>orderservice.properties</strong> for <strong>catalog-service</strong> and <strong>order-service</strong> respectively.</p>

<p><strong>config-repo/catalogservice.properties</strong></p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-properties" data-lang="properties">spring.datasource.driver-class-name=com.mysql.jdbc.Driver
spring.datasource.url=jdbc:mysql://localhost:3306/catalog
spring.datasource.username=root
spring.datasource.password=admin</code></pre></div>

<p><strong>config-repo/orderservice.properties</strong></p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-properties" data-lang="properties">spring.rabbitmq.host=localhost
spring.rabbitmq.port=5672
spring.rabbitmq.username=guest
spring.rabbitmq.password=guest</code></pre></div>

<p>We can also create profile specific configuration files such as <strong>catalogservice-dev.properties</strong>, <strong>catalogservice-prod.properties</strong>, <strong>orderservice-dev.properties</strong>, <strong>orderservice-prod.properties</strong>.</p>

<p><strong>config-repo/catalogservice-prod.properties</strong></p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-properties" data-lang="properties">spring.datasource.driver-class-name=com.mysql.jdbc.Driver
spring.datasource.url=jdbc:mysql://appsrv1:3306/catalog
spring.datasource.username=appuser46
spring.datasource.password=T(iV&amp;#)X84@1!</code></pre></div>

<p><strong>config-repo/orderservice-prod.properties</strong></p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-properties" data-lang="properties">spring.rabbitmq.host=srv245.ind.com
spring.rabbitmq.port=5672
spring.rabbitmq.username=admin23
spring.rabbitmq.password=uY7&amp;%we@1!</code></pre></div>

<p>Now commit all the configuration properties files in <strong>config-repo</strong> git repository.</p>

<h4 id="spring-cloud-config-server-application">Spring Cloud Config Server Application</h4>

<p>Let us create a SpringBoot application <strong>spring-cloud-config-server</strong> from <a href="http://start.spring.io">http://start.spring.io</a> or from your favorite IDE by selecting the starters <strong>Config Server</strong> and <strong>Actuator</strong>.</p>

<p>This will generate the maven project with following <strong>pom.xml</strong>.</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
<span style="color:#f92672">&lt;project</span> <span style="color:#a6e22e">xmlns=</span><span style="color:#e6db74">&#34;http://maven.apache.org/POM/4.0.0&#34;</span>
  <span style="color:#a6e22e">xmlns:xsi=</span><span style="color:#e6db74">&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span>
	<span style="color:#a6e22e">xsi:schemaLocation=</span><span style="color:#e6db74">&#34;http://maven.apache.org/POM/4.0.0
</span><span style="color:#e6db74">  http://maven.apache.org/xsd/maven-4.0.0.xsd&#34;</span><span style="color:#f92672">&gt;</span>
	<span style="color:#f92672">&lt;modelVersion&gt;</span>4.0.0<span style="color:#f92672">&lt;/modelVersion&gt;</span>

	<span style="color:#f92672">&lt;groupId&gt;</span>com.sivalabs<span style="color:#f92672">&lt;/groupId&gt;</span>
	<span style="color:#f92672">&lt;artifactId&gt;</span>spring-cloud-config-server<span style="color:#f92672">&lt;/artifactId&gt;</span>
	<span style="color:#f92672">&lt;version&gt;</span>1.0.0-SNAPSHOT<span style="color:#f92672">&lt;/version&gt;</span>
	<span style="color:#f92672">&lt;packaging&gt;</span>jar<span style="color:#f92672">&lt;/packaging&gt;</span>
	<span style="color:#f92672">&lt;name&gt;</span>spring-cloud-config-server<span style="color:#f92672">&lt;/name&gt;</span>

	<span style="color:#f92672">&lt;parent&gt;</span>
		<span style="color:#f92672">&lt;groupId&gt;</span>org.springframework.boot<span style="color:#f92672">&lt;/groupId&gt;</span>
		<span style="color:#f92672">&lt;artifactId&gt;</span>spring-boot-starter-parent<span style="color:#f92672">&lt;/artifactId&gt;</span>
		<span style="color:#f92672">&lt;version&gt;</span>1.5.6.RELEASE<span style="color:#f92672">&lt;/version&gt;</span>
		<span style="color:#f92672">&lt;relativePath/&gt;</span>
	<span style="color:#f92672">&lt;/parent&gt;</span>

	<span style="color:#f92672">&lt;properties&gt;</span>
		<span style="color:#f92672">&lt;project.build.sourceEncoding&gt;</span>UTF-8<span style="color:#f92672">&lt;/project.build.sourceEncoding&gt;</span>
		<span style="color:#f92672">&lt;project.reporting.outputEncoding&gt;</span>UTF-8<span style="color:#f92672">&lt;/project.reporting.outputEncoding&gt;</span>
		<span style="color:#f92672">&lt;java.version&gt;</span>1.8<span style="color:#f92672">&lt;/java.version&gt;</span>
		<span style="color:#f92672">&lt;spring-cloud.version&gt;</span>Dalston.SR2<span style="color:#f92672">&lt;/spring-cloud.version&gt;</span>
	<span style="color:#f92672">&lt;/properties&gt;</span>

	<span style="color:#f92672">&lt;dependencies&gt;</span>
		<span style="color:#f92672">&lt;dependency&gt;</span>
			<span style="color:#f92672">&lt;groupId&gt;</span>org.springframework.boot<span style="color:#f92672">&lt;/groupId&gt;</span>
			<span style="color:#f92672">&lt;artifactId&gt;</span>spring-boot-starter-actuator<span style="color:#f92672">&lt;/artifactId&gt;</span>
		<span style="color:#f92672">&lt;/dependency&gt;</span>
		<span style="color:#f92672">&lt;dependency&gt;</span>
			<span style="color:#f92672">&lt;groupId&gt;</span>org.springframework.cloud<span style="color:#f92672">&lt;/groupId&gt;</span>
			<span style="color:#f92672">&lt;artifactId&gt;</span>spring-cloud-config-server<span style="color:#f92672">&lt;/artifactId&gt;</span>
		<span style="color:#f92672">&lt;/dependency&gt;</span>
		<span style="color:#f92672">&lt;dependency&gt;</span>
			<span style="color:#f92672">&lt;groupId&gt;</span>org.springframework.boot<span style="color:#f92672">&lt;/groupId&gt;</span>
			<span style="color:#f92672">&lt;artifactId&gt;</span>spring-boot-starter-test<span style="color:#f92672">&lt;/artifactId&gt;</span>
			<span style="color:#f92672">&lt;scope&gt;</span>test<span style="color:#f92672">&lt;/scope&gt;</span>
		<span style="color:#f92672">&lt;/dependency&gt;</span>
	<span style="color:#f92672">&lt;/dependencies&gt;</span>

	<span style="color:#f92672">&lt;dependencyManagement&gt;</span>
		<span style="color:#f92672">&lt;dependencies&gt;</span>
			<span style="color:#f92672">&lt;dependency&gt;</span>
				<span style="color:#f92672">&lt;groupId&gt;</span>org.springframework.cloud<span style="color:#f92672">&lt;/groupId&gt;</span>
				<span style="color:#f92672">&lt;artifactId&gt;</span>spring-cloud-dependencies<span style="color:#f92672">&lt;/artifactId&gt;</span>
				<span style="color:#f92672">&lt;version&gt;</span>${spring-cloud.version}<span style="color:#f92672">&lt;/version&gt;</span>
				<span style="color:#f92672">&lt;type&gt;</span>pom<span style="color:#f92672">&lt;/type&gt;</span>
				<span style="color:#f92672">&lt;scope&gt;</span>import<span style="color:#f92672">&lt;/scope&gt;</span>
			<span style="color:#f92672">&lt;/dependency&gt;</span>
		<span style="color:#f92672">&lt;/dependencies&gt;</span>
	<span style="color:#f92672">&lt;/dependencyManagement&gt;</span>

	<span style="color:#f92672">&lt;build&gt;</span>
		<span style="color:#f92672">&lt;plugins&gt;</span>
			<span style="color:#f92672">&lt;plugin&gt;</span>
				<span style="color:#f92672">&lt;groupId&gt;</span>org.springframework.boot<span style="color:#f92672">&lt;/groupId&gt;</span>
				<span style="color:#f92672">&lt;artifactId&gt;</span>spring-boot-maven-plugin<span style="color:#f92672">&lt;/artifactId&gt;</span>
			<span style="color:#f92672">&lt;/plugin&gt;</span>
		<span style="color:#f92672">&lt;/plugins&gt;</span>
	<span style="color:#f92672">&lt;/build&gt;</span>
<span style="color:#f92672">&lt;/project&gt;</span></code></pre></div>

<p>To make our SpringBoot application as a SpringCloud Config Server, we just need to add <strong>@EnableConfigServer</strong> annotation to the main entry point class and configure <strong>spring.cloud.config.server.git.uri</strong> property pointing to the git repository.</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> com.sivalabs.configserver<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> org.springframework.boot.SpringApplication<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> org.springframework.boot.autoconfigure.SpringBootApplication<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> org.springframework.cloud.config.server.EnableConfigServer<span style="color:#f92672">;</span>

<span style="color:#a6e22e">@EnableConfigServer</span>
<span style="color:#a6e22e">@SpringBootApplication</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ConfigServerApplication</span> <span style="color:#f92672">{</span>

	<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
		SpringApplication<span style="color:#f92672">.</span><span style="color:#a6e22e">run</span><span style="color:#f92672">(</span>ConfigServerApplication<span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">,</span> args<span style="color:#f92672">);</span>
	<span style="color:#f92672">}</span>
<span style="color:#f92672">}</span></code></pre></div>

<p><strong>spring-cloud-config-server/src/main/resources/application.properties</strong></p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-properties" data-lang="properties">server.port=8888
spring.cloud.config.server.git.uri=https://github.com/sivaprasadreddy/config-repo.git
management.security.enabled=false</code></pre></div>

<p>In addition to configuring git repo uri, we configured <strong>server.port</strong> to 8888 and <strong>disabled actuator security</strong>. Now you can start the application which will start on port 8888.</p>

<p>Spring Cloud Config Server exposes the following REST endpoints to get application specific configuration properties:</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-properties" data-lang="properties">/{application}/{profile}[/{label}]
/{application}-{profile}.yml
/{label}/{application}-{profile}.yml
/{application}-{profile}.properties
/{label}/{application}-{profile}.properties</code></pre></div>

<p>Here <strong>{application}</strong> refers to value of <strong>spring.config.name</strong> property, <strong>{profile}</strong> is an active profile and <strong>{label}</strong> is an optional git label (defaults to &#8220;master&#8221;).</p>

<p>Now if you access the URL <a href="http://localhost:8888/catalogservice/default">http://localhost:8888/catalogservice/default</a> then you will get the following response with catalogservice <strong>default</strong> configuration details:</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json">{
    <span style="color:#f92672">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;catalogservice&#34;</span>,
    <span style="color:#f92672">&#34;profiles&#34;</span>: [
        <span style="color:#e6db74">&#34;default&#34;</span>
    ],
    <span style="color:#f92672">&#34;label&#34;</span>: <span style="color:#66d9ef">null</span>,
    <span style="color:#f92672">&#34;version&#34;</span>: <span style="color:#e6db74">&#34;8a06f25aeb3f28a8f06b5634eae01858b2c6465d&#34;</span>,
    <span style="color:#f92672">&#34;state&#34;</span>: <span style="color:#66d9ef">null</span>,
    <span style="color:#f92672">&#34;propertySources&#34;</span>: [
        {
            <span style="color:#f92672">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;https://github.com/sivaprasadreddy/config-repo.git/catalogservice.properties&#34;</span>,
            <span style="color:#f92672">&#34;source&#34;</span>: {
                <span style="color:#f92672">&#34;spring.datasource.username&#34;</span>: <span style="color:#e6db74">&#34;root&#34;</span>,
                <span style="color:#f92672">&#34;spring.datasource.driver-class-name&#34;</span>: <span style="color:#e6db74">&#34;com.mysql.jdbc.Driver&#34;</span>,
                <span style="color:#f92672">&#34;spring.datasource.password&#34;</span>: <span style="color:#e6db74">&#34;admin&#34;</span>,
                <span style="color:#f92672">&#34;spring.datasource.url&#34;</span>: <span style="color:#e6db74">&#34;jdbc:mysql://localhost:3306/catalog&#34;</span>
            }
        }
    ]
}</code></pre></div>

<p>If you access the URL <a href="http://localhost:8888/catalogservice/prod">http://localhost:8888/catalogservice/prod</a> then you will get the following response with catalogservice <strong>prod</strong> configuration details.</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json">{
    <span style="color:#f92672">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;catalogservice&#34;</span>,
    <span style="color:#f92672">&#34;profiles&#34;</span>: [
        <span style="color:#e6db74">&#34;prod&#34;</span>
    ],
    <span style="color:#f92672">&#34;label&#34;</span>: <span style="color:#66d9ef">null</span>,
    <span style="color:#f92672">&#34;version&#34;</span>: <span style="color:#e6db74">&#34;8a06f25aeb3f28a8f06b5634eae01858b2c6465d&#34;</span>,
    <span style="color:#f92672">&#34;state&#34;</span>: <span style="color:#66d9ef">null</span>,
    <span style="color:#f92672">&#34;propertySources&#34;</span>: [
        {
            <span style="color:#f92672">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;https://github.com/sivaprasadreddy/config-repo.git/catalogservice-prod.properties&#34;</span>,
            <span style="color:#f92672">&#34;source&#34;</span>: {
                <span style="color:#f92672">&#34;spring.datasource.username&#34;</span>: <span style="color:#e6db74">&#34;appuser46&#34;</span>,
                <span style="color:#f92672">&#34;spring.datasource.driver-class-name&#34;</span>: <span style="color:#e6db74">&#34;com.mysql.jdbc.Driver&#34;</span>,
                <span style="color:#f92672">&#34;spring.datasource.password&#34;</span>: <span style="color:#e6db74">&#34;T(iV&amp;#)X84@1!&#34;</span>,
                <span style="color:#f92672">&#34;spring.datasource.url&#34;</span>: <span style="color:#e6db74">&#34;jdbc:mysql://appsrv1:3306/catalog&#34;</span>
            }
        },
        {
            <span style="color:#f92672">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;https://github.com/sivaprasadreddy/config-repo.git/catalogservice.properties&#34;</span>,
            <span style="color:#f92672">&#34;source&#34;</span>: {
                <span style="color:#f92672">&#34;spring.datasource.username&#34;</span>: <span style="color:#e6db74">&#34;root&#34;</span>,
                <span style="color:#f92672">&#34;spring.datasource.driver-class-name&#34;</span>: <span style="color:#e6db74">&#34;com.mysql.jdbc.Driver&#34;</span>,
                <span style="color:#f92672">&#34;spring.datasource.password&#34;</span>: <span style="color:#e6db74">&#34;admin&#34;</span>,
                <span style="color:#f92672">&#34;spring.datasource.url&#34;</span>: <span style="color:#e6db74">&#34;jdbc:mysql://localhost:3306/catalog&#34;</span>
            }
        }
    ]
}</code></pre></div>

<p>In addition to the application specific configuration files like <strong>catalogservice.properties</strong>, <strong>orderservice.properties</strong>, you can create <strong>application.properties</strong> file to contain common configuration properties for all applications. As you might have guessed you can have profile specific files like <strong>application-dev.properties, application-prod.properties</strong>.</p>

<p>Suppose you have <strong>application.properties</strong> file in <strong>config-repo</strong> with the following properties:</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-properties" data-lang="properties">message=helloworld
jdbc.datasource.url=jdbc:mysql://localhost:3306/defapp</code></pre></div>

<p>Now if you access <a href="http://localhost:8888/catalogservice/prod">http://localhost:8888/catalogservice/prod</a> then you will get the following response:</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json">{
    <span style="color:#f92672">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;catalogservice&#34;</span>,
    <span style="color:#f92672">&#34;profiles&#34;</span>: [
        <span style="color:#e6db74">&#34;prod&#34;</span>
    ],
    <span style="color:#f92672">&#34;label&#34;</span>: <span style="color:#66d9ef">null</span>,
    <span style="color:#f92672">&#34;version&#34;</span>: <span style="color:#e6db74">&#34;8a06f25aeb3f28a8f06b5634eae01858b2c6465d&#34;</span>,
    <span style="color:#f92672">&#34;state&#34;</span>: <span style="color:#66d9ef">null</span>,
    <span style="color:#f92672">&#34;propertySources&#34;</span>: [
        {
            <span style="color:#f92672">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;https://github.com/sivaprasadreddy/config-repo.git/catalogservice-prod.properties&#34;</span>,
            <span style="color:#f92672">&#34;source&#34;</span>: {
              <span style="color:#f92672">&#34;spring.datasource.username&#34;</span>: <span style="color:#e6db74">&#34;appuser46&#34;</span>,
              <span style="color:#f92672">&#34;spring.datasource.driver-class-name&#34;</span>: <span style="color:#e6db74">&#34;com.mysql.jdbc.Driver&#34;</span>,
              <span style="color:#f92672">&#34;spring.datasource.password&#34;</span>: <span style="color:#e6db74">&#34;T(iV&amp;#)X84@1!&#34;</span>,
              <span style="color:#f92672">&#34;spring.datasource.url&#34;</span>: <span style="color:#e6db74">&#34;jdbc:mysql://appsrv1:3306/catalog&#34;</span>
            }
        },
        {
            <span style="color:#f92672">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;https://github.com/sivaprasadreddy/config-repo.git/catalogservice.properties&#34;</span>,
            <span style="color:#f92672">&#34;source&#34;</span>: {
                <span style="color:#f92672">&#34;spring.datasource.username&#34;</span>: <span style="color:#e6db74">&#34;root&#34;</span>,
                <span style="color:#f92672">&#34;spring.datasource.driver-class-name&#34;</span>: <span style="color:#e6db74">&#34;com.mysql.jdbc.Driver&#34;</span>,
                <span style="color:#f92672">&#34;spring.datasource.password&#34;</span>: <span style="color:#e6db74">&#34;admin&#34;</span>,
                <span style="color:#f92672">&#34;spring.datasource.url&#34;</span>: <span style="color:#e6db74">&#34;jdbc:mysql://localhost:3306/catalog&#34;</span>
            }
        },
        {
            <span style="color:#f92672">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;https://github.com/sivaprasadreddy/config-repo.git/application.properties&#34;</span>,
            <span style="color:#f92672">&#34;source&#34;</span>: {
                <span style="color:#f92672">&#34;message&#34;</span>: <span style="color:#e6db74">&#34;helloworld&#34;</span>,
                <span style="color:#f92672">&#34;jdbc.datasource.url&#34;</span>: <span style="color:#e6db74">&#34;jdbc:mysql://localhost:3306/defapp&#34;</span>
            }
        }
    ]
}</code></pre></div>

<p>Similarly you can access <a href="http://localhost:8888/orderservice/default">http://localhost:8888/orderservice/default</a> to get the orderservice configuration details.</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json">{
    <span style="color:#f92672">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;orderservice&#34;</span>,
    <span style="color:#f92672">&#34;profiles&#34;</span>: [
        <span style="color:#e6db74">&#34;default&#34;</span>
    ],
    <span style="color:#f92672">&#34;label&#34;</span>: <span style="color:#66d9ef">null</span>,
    <span style="color:#f92672">&#34;version&#34;</span>: <span style="color:#e6db74">&#34;8a06f25aeb3f28a8f06b5634eae01858b2c6465d&#34;</span>,
    <span style="color:#f92672">&#34;state&#34;</span>: <span style="color:#66d9ef">null</span>,
    <span style="color:#f92672">&#34;propertySources&#34;</span>: [
        {
            <span style="color:#f92672">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;https://github.com/sivaprasadreddy/config-repo.git/orderservice.properties&#34;</span>,
            <span style="color:#f92672">&#34;source&#34;</span>: {
              <span style="color:#f92672">&#34;spring.rabbitmq.host&#34;</span>: <span style="color:#e6db74">&#34;localhost&#34;</span>
              <span style="color:#e6db74">&#34;spring.rabbitmq.port&#34;</span>: <span style="color:#e6db74">&#34;5672&#34;</span>
              <span style="color:#e6db74">&#34;spring.rabbitmq.username&#34;</span>: <span style="color:#e6db74">&#34;guest&#34;</span>
              <span style="color:#e6db74">&#34;spring.rabbitmq.password&#34;</span>: <span style="color:#e6db74">&#34;guest&#34;</span>
            }
        },
        {
            <span style="color:#f92672">&#34;name&#34;</span>: <span style="color:#e6db74">&#34;https://github.com/sivaprasadreddy/config-repo.git/application.properties&#34;</span>,
            <span style="color:#f92672">&#34;source&#34;</span>: {
                <span style="color:#f92672">&#34;message&#34;</span>: <span style="color:#e6db74">&#34;helloworld&#34;</span>,
                <span style="color:#f92672">&#34;jdbc.datasource.url&#34;</span>: <span style="color:#e6db74">&#34;jdbc:mysql://localhost:3306/defapp&#34;</span>
            }
        }
    ]
}</code></pre></div>

<p>Now that we have seen how to create configuration server using Spring Cloud Config Server and how to fetch the application specific configuration properties using REST API.</p>

<p>Let us see how we can create a SpringBoot application and use configuration properties from Config Server instead of putting them inside the application.</p>

<h4 id="spring-cloud-config-client-catalog-service">Spring Cloud Config Client (catalog-service)</h4>

<p>Create a SpringBoot application <strong>catalog-service</strong> with <strong>Config Client,</strong> <strong>Web</strong> and <strong>Actuator</strong> starters.</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
<span style="color:#f92672">&lt;project</span> <span style="color:#a6e22e">xmlns=</span><span style="color:#e6db74">&#34;http://maven.apache.org/POM/4.0.0&#34;</span>
  <span style="color:#a6e22e">xmlns:xsi=</span><span style="color:#e6db74">&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span>
	<span style="color:#a6e22e">xsi:schemaLocation=</span><span style="color:#e6db74">&#34;http://maven.apache.org/POM/4.0.0
</span><span style="color:#e6db74">  http://maven.apache.org/xsd/maven-4.0.0.xsd&#34;</span><span style="color:#f92672">&gt;</span>
	<span style="color:#f92672">&lt;modelVersion&gt;</span>4.0.0<span style="color:#f92672">&lt;/modelVersion&gt;</span>

	<span style="color:#f92672">&lt;groupId&gt;</span>com.sivalabs<span style="color:#f92672">&lt;/groupId&gt;</span>
	<span style="color:#f92672">&lt;artifactId&gt;</span>catalog-service<span style="color:#f92672">&lt;/artifactId&gt;</span>
	<span style="color:#f92672">&lt;version&gt;</span>1.0.0-SNAPSHOT<span style="color:#f92672">&lt;/version&gt;</span>
	<span style="color:#f92672">&lt;packaging&gt;</span>jar<span style="color:#f92672">&lt;/packaging&gt;</span>

	<span style="color:#f92672">&lt;name&gt;</span>spring-cloud-config-client<span style="color:#f92672">&lt;/name&gt;</span>

	<span style="color:#f92672">&lt;parent&gt;</span>
		<span style="color:#f92672">&lt;groupId&gt;</span>org.springframework.boot<span style="color:#f92672">&lt;/groupId&gt;</span>
		<span style="color:#f92672">&lt;artifactId&gt;</span>spring-boot-starter-parent<span style="color:#f92672">&lt;/artifactId&gt;</span>
		<span style="color:#f92672">&lt;version&gt;</span>1.5.6.RELEASE<span style="color:#f92672">&lt;/version&gt;</span>
		<span style="color:#f92672">&lt;relativePath/&gt;</span>
	<span style="color:#f92672">&lt;/parent&gt;</span>

	<span style="color:#f92672">&lt;properties&gt;</span>
		<span style="color:#f92672">&lt;project.build.sourceEncoding&gt;</span>UTF-8<span style="color:#f92672">&lt;/project.build.sourceEncoding&gt;</span>
		<span style="color:#f92672">&lt;project.reporting.outputEncoding&gt;</span>UTF-8<span style="color:#f92672">&lt;/project.reporting.outputEncoding&gt;</span>
		<span style="color:#f92672">&lt;java.version&gt;</span>1.8<span style="color:#f92672">&lt;/java.version&gt;</span>
		<span style="color:#f92672">&lt;spring-cloud.version&gt;</span>Dalston.SR2<span style="color:#f92672">&lt;/spring-cloud.version&gt;</span>
	<span style="color:#f92672">&lt;/properties&gt;</span>

	<span style="color:#f92672">&lt;dependencies&gt;</span>
		<span style="color:#f92672">&lt;dependency&gt;</span>
			<span style="color:#f92672">&lt;groupId&gt;</span>org.springframework.cloud<span style="color:#f92672">&lt;/groupId&gt;</span>
			<span style="color:#f92672">&lt;artifactId&gt;</span>spring-cloud-starter-config<span style="color:#f92672">&lt;/artifactId&gt;</span>
		<span style="color:#f92672">&lt;/dependency&gt;</span>
		<span style="color:#f92672">&lt;dependency&gt;</span>
			<span style="color:#f92672">&lt;groupId&gt;</span>org.springframework.boot<span style="color:#f92672">&lt;/groupId&gt;</span>
			<span style="color:#f92672">&lt;artifactId&gt;</span>spring-boot-starter-actuator<span style="color:#f92672">&lt;/artifactId&gt;</span>
		<span style="color:#f92672">&lt;/dependency&gt;</span>
		<span style="color:#f92672">&lt;dependency&gt;</span>
			<span style="color:#f92672">&lt;groupId&gt;</span>org.springframework.boot<span style="color:#f92672">&lt;/groupId&gt;</span>
			<span style="color:#f92672">&lt;artifactId&gt;</span>spring-boot-starter-web<span style="color:#f92672">&lt;/artifactId&gt;</span>
		<span style="color:#f92672">&lt;/dependency&gt;</span>
		<span style="color:#f92672">&lt;dependency&gt;</span>
			<span style="color:#f92672">&lt;groupId&gt;</span>org.springframework.boot<span style="color:#f92672">&lt;/groupId&gt;</span>
			<span style="color:#f92672">&lt;artifactId&gt;</span>spring-boot-starter-test<span style="color:#f92672">&lt;/artifactId&gt;</span>
			<span style="color:#f92672">&lt;scope&gt;</span>test<span style="color:#f92672">&lt;/scope&gt;</span>
		<span style="color:#f92672">&lt;/dependency&gt;</span>
	<span style="color:#f92672">&lt;/dependencies&gt;</span>

	<span style="color:#f92672">&lt;dependencyManagement&gt;</span>
		<span style="color:#f92672">&lt;dependencies&gt;</span>
			<span style="color:#f92672">&lt;dependency&gt;</span>
				<span style="color:#f92672">&lt;groupId&gt;</span>org.springframework.cloud<span style="color:#f92672">&lt;/groupId&gt;</span>
				<span style="color:#f92672">&lt;artifactId&gt;</span>spring-cloud-dependencies<span style="color:#f92672">&lt;/artifactId&gt;</span>
				<span style="color:#f92672">&lt;version&gt;</span>${spring-cloud.version}<span style="color:#f92672">&lt;/version&gt;</span>
				<span style="color:#f92672">&lt;type&gt;</span>pom<span style="color:#f92672">&lt;/type&gt;</span>
				<span style="color:#f92672">&lt;scope&gt;</span>import<span style="color:#f92672">&lt;/scope&gt;</span>
			<span style="color:#f92672">&lt;/dependency&gt;</span>
		<span style="color:#f92672">&lt;/dependencies&gt;</span>
	<span style="color:#f92672">&lt;/dependencyManagement&gt;</span>

	<span style="color:#f92672">&lt;build&gt;</span>
		<span style="color:#f92672">&lt;plugins&gt;</span>
			<span style="color:#f92672">&lt;plugin&gt;</span>
				<span style="color:#f92672">&lt;groupId&gt;</span>org.springframework.boot<span style="color:#f92672">&lt;/groupId&gt;</span>
				<span style="color:#f92672">&lt;artifactId&gt;</span>spring-boot-maven-plugin<span style="color:#f92672">&lt;/artifactId&gt;</span>
			<span style="color:#f92672">&lt;/plugin&gt;</span>
		<span style="color:#f92672">&lt;/plugins&gt;</span>
	<span style="color:#f92672">&lt;/build&gt;</span>

<span style="color:#f92672">&lt;/project&gt;</span></code></pre></div>

<p>Usually in SpringBoot application we configure properties in <strong><em>application.properties</em></strong>. But while using Spring Cloud Config Server we use <strong><em>bootstrap.properties</em></strong> or <strong><em>bootstrap.yml</em></strong> file to configure the URL of Config Server and Spring Cloud Config Client module will take care of starting the application by fetching the application properties from Config Server.</p>

<p>Configure the following properties in <strong>src/main/resources/bootstrap.properties</strong>:</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-properties" data-lang="properties">server.port=8181
spring.application.name=catalogservice
spring.cloud.config.uri=http://localhost:8888
management.security.enabled=false</code></pre></div>

<p>We have configured the url of configuration server using <strong>spring.cloud.config.uri</strong> property. Also we have specified the application name using <strong>spring.application.name</strong> property.</p>

<blockquote>
<p>Note that the value of <strong>spring.application.name</strong> property should match with base filename (catalogservice) in config-repo.</p>
</blockquote>

<p>Now run the following catalog-service main entry point class:</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> com.sivalabs.catalogservice<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> org.springframework.boot.SpringApplication<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> org.springframework.boot.autoconfigure.SpringBootApplication<span style="color:#f92672">;</span>

<span style="color:#a6e22e">@SpringBootApplication</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">CatalogServiceApplication</span> <span style="color:#f92672">{</span>

	<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
		SpringApplication<span style="color:#f92672">.</span><span style="color:#a6e22e">run</span><span style="color:#f92672">(</span>CatalogServiceApplication<span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">,</span> args<span style="color:#f92672">);</span>
	<span style="color:#f92672">}</span>
<span style="color:#f92672">}</span></code></pre></div>

<p>We can access the actuator endpoint <a href="http://localhost:8181/env">http://localhost:8181/env</a> to see all the configuration properties.</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-json" data-lang="json">{
    <span style="color:#f92672">&#34;profiles&#34;</span>: [],
    <span style="color:#f92672">&#34;server.ports&#34;</span>: {
        <span style="color:#f92672">&#34;local.server.port&#34;</span>: <span style="color:#ae81ff">8080</span>
    },
    <span style="color:#f92672">&#34;configService:configClient&#34;</span>: {
        <span style="color:#f92672">&#34;config.client.version&#34;</span>: <span style="color:#e6db74">&#34;8a06f25aeb3f28a8f06b5634eae01858b2c6465d&#34;</span>
    },
    <span style="color:#f92672">&#34;configService:https://github.com/sivaprasadreddy/config-repo.git/catalogservice.properties&#34;</span>: {
        <span style="color:#f92672">&#34;spring.datasource.username&#34;</span>: <span style="color:#e6db74">&#34;root&#34;</span>,
        <span style="color:#f92672">&#34;spring.datasource.driver-class-name&#34;</span>: <span style="color:#e6db74">&#34;com.mysql.jdbc.Driver&#34;</span>,
        <span style="color:#f92672">&#34;spring.datasource.password&#34;</span>: <span style="color:#e6db74">&#34;******&#34;</span>,
        <span style="color:#f92672">&#34;spring.datasource.url&#34;</span>: <span style="color:#e6db74">&#34;jdbc:mysql://localhost:3306/catalog&#34;</span>
    },
    <span style="color:#f92672">&#34;configService:https://github.com/sivaprasadreddy/config-repo.git/application.properties&#34;</span>: {
        <span style="color:#f92672">&#34;message&#34;</span>: <span style="color:#e6db74">&#34;helloworld&#34;</span>,
        <span style="color:#f92672">&#34;jdbc.datasource.url&#34;</span>: <span style="color:#e6db74">&#34;jdbc:mysql://localhost:3306/defapp&#34;</span>
    },
    <span style="color:#f92672">&#34;servletContextInitParams&#34;</span>: {},
    <span style="color:#f92672">&#34;systemProperties&#34;</span>: {
        <span style="color:#960050;background-color:#1e0010">...</span>
        <span style="color:#960050;background-color:#1e0010">...</span>
    },
    <span style="color:#f92672">&#34;systemEnvironment&#34;</span>: {
        <span style="color:#960050;background-color:#1e0010">...</span>
        <span style="color:#960050;background-color:#1e0010">...</span>
    },
    <span style="color:#f92672">&#34;springCloudClientHostInfo&#34;</span>: {
        <span style="color:#f92672">&#34;spring.cloud.client.hostname&#34;</span>: <span style="color:#e6db74">&#34;192.168.0.101&#34;</span>,
        <span style="color:#f92672">&#34;spring.cloud.client.ipAddress&#34;</span>: <span style="color:#e6db74">&#34;192.168.0.101&#34;</span>
    },
    <span style="color:#f92672">&#34;applicationConfig: [classpath:/bootstrap.properties]&#34;</span>: {
        <span style="color:#f92672">&#34;management.security.enabled&#34;</span>: <span style="color:#e6db74">&#34;false&#34;</span>,
        <span style="color:#f92672">&#34;spring.cloud.config.uri&#34;</span>: <span style="color:#e6db74">&#34;http://localhost:8888&#34;</span>,
        <span style="color:#f92672">&#34;spring.application.name&#34;</span>: <span style="color:#e6db74">&#34;catalogservice&#34;</span>
    },
    <span style="color:#f92672">&#34;defaultProperties&#34;</span>: {}
}</code></pre></div>

<p>You can see that catalog-service application fetches the catalogservice properties from Config Server during bootstrap time. You can bind these properties using <strong>@Value</strong> or <strong>@EnableConfigurationProperties</strong> just the way you bind if they are defined within the application itself.</p>

<h4 id="precedence-of-properties">Precedence of properties</h4>

<p>Now that we know there are many ways to provide configuration properties in many files such as <strong>application.properties, bootstrap.properties</strong> and their profile variants inside application <strong>src/main/resources</strong> and <strong>{application-name}-{profile}.properties, application-{profile}.properties</strong> in config-repo.</p>

<p>The following diagrams shows the precedence of configuration properties from various properties locations.</p>

<p><img class="aligncenter size-full" src="/images/precedence.png" sizes="(max-width: 648px) 100vw, 648px" data-recalc-dims="1" /></p>

<h4 id="refresh-properties-at-runtime">Refresh properties at runtime</h4>

<p>Let us see how we can update the configuration properties of catalog-service at runtime without requiring to restart the application.</p>

<p>Update the <strong>catalogservice.properties</strong> in config-repo git repository and commit the changes. Now if you access <a href="http://localhost:8181/env">http://localhost:8181/env</a> you will still see the old properties.</p>

<p>In order to reload the configuration properties we need to do the following:</p>

<ul>
<li>Mark Spring beans that you want to reload on config changes with @RefreshScope</li>
<li>Issue <a href="http://localhost:8181/refresh">http://localhost:8181/refresh</a> request using <strong>POST</strong> method</li>
</ul>

<p>To test the reloading behaviour let&#8217;s add a property <strong>name=Siva</strong> in <strong>config-repo/catalogservice.properties</strong> and commit it.</p>

<p>Create a simple RestController to display <strong>name</strong> value as follows:</p>

<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#a6e22e">@RestController</span>
<span style="color:#a6e22e">@RefreshScope</span>
<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">HomeController</span>
<span style="color:#f92672">{</span>
	<span style="color:#a6e22e">@Value</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;${name}&#34;</span><span style="color:#f92672">)</span>
	String name<span style="color:#f92672">;</span>

	<span style="color:#a6e22e">@GetMapping</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/name&#34;</span><span style="color:#f92672">)</span>
	<span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">name</span><span style="color:#f92672">()</span>
	<span style="color:#f92672">{</span>
		<span style="color:#66d9ef">return</span> name<span style="color:#f92672">;</span>
	<span style="color:#f92672">}</span>
<span style="color:#f92672">}</span></code></pre></div>

<p>Now access <a href="http://localhost:8181/name">http://localhost:8181/name</a> which which will display <strong>Siva</strong>. Now change the property value to <strong>name=Prasad</strong> in <strong>config-repo/catalogservice.properties</strong> and commit it.</p>

<p>In order to reload the config changes trigger <a href="http://localhost:8181/refresh">http://localhost:8181/refresh</a> request using <strong>POST</strong> method and again access <a href="http://localhost:8181/name">http://localhost:8181/name</a> which should display <strong>Prasad</strong>.</p>

<p>But issuing <strong>/refresh</strong> requests manually is tedious and impractical in case of large number of applications and multiple instances of same application. We will cover how to handle this problem using <strong>Spring Cloud Bus</strong> in next post</p>

<p><a href="/2017/08/spring-cloud-tutorials-auto-refresh-config-changes-using-spring-cloud-bus/">Spring Cloud Tutorials – Auto Refresh Config Changes using Spring Cloud Bus</a>.</p>

<p>The source code for this article is at <a href="https://github.com/sivaprasadreddy/spring-cloud-tutorial">https://github.com/sivaprasadreddy/spring-cloud-tutorial</a></p>

<p>&nbsp;</p>

        </div>
        <div class="sharedaddy sd-sharing-enabled">
    <div class="robots-nocontent sd-block sd-social sd-social-icon sd-sharing">
        <h3 class="sd-title">Share this:</h3>
        <div class="sd-content">
            <ul>
                <li class="share-twitter"><a rel="nofollow" data-shared="sharing-twitter-1144" class="share-twitter sd-button share-icon no-text" href="https://twitter.com/intent/tweet?status=Spring%20Cloud%20Tutorials%20%e2%80%93%20Introduction%20to%20Spring%20Cloud%20Config%20Server-https%3a%2f%2fsivalabs.github.io%2f2017%2f08%2fspring-cloud-tutorials-introduction-to-spring-cloud-config-server%2f" target="_blank" title="Click to share on Twitter"><span></span><span class="sharing-screen-reader-text">Click to share on Twitter (Opens in new window)</span></a></li>
                <li class="share-facebook"><a rel="nofollow" data-shared="sharing-facebook-1144" class="share-facebook sd-button share-icon no-text" href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fsivalabs.github.io%2f2017%2f08%2fspring-cloud-tutorials-introduction-to-spring-cloud-config-server%2f" target="_blank" title="Click to share on Facebook"><span></span><span class="sharing-screen-reader-text">Click to share on Facebook (Opens in new window)</span></a></li>
                <li class="share-google-plus-1"><a rel="nofollow" data-shared="sharing-google-1144" class="share-google-plus-1 sd-button share-icon no-text" href="https://plus.google.com/share?url=https%3a%2f%2fsivalabs.github.io%2f2017%2f08%2fspring-cloud-tutorials-introduction-to-spring-cloud-config-server%2f" target="_blank" title="Click to share on Google+"><span></span><span class="sharing-screen-reader-text">Click to share on Google+ (Opens in new window)</span></a></li>
                <li class="share-reddit"><a rel="nofollow" data-shared="" class="share-reddit sd-button share-icon no-text" href="http://www.reddit.com/submit?url=https%3a%2f%2fsivalabs.github.io%2f2017%2f08%2fspring-cloud-tutorials-introduction-to-spring-cloud-config-server%2f&title=Spring%20Cloud%20Tutorials%20%e2%80%93%20Introduction%20to%20Spring%20Cloud%20Config%20Server" target="_blank" title="Click to share on Reddit"><span></span><span class="sharing-screen-reader-text">Click to share on Reddit (Opens in new window)</span></a></li>
                <li class="share-linkedin"><a rel="nofollow" data-shared="sharing-linkedin-1144" class="share-linkedin sd-button share-icon no-text" href="http://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fsivalabs.github.io%2f2017%2f08%2fspring-cloud-tutorials-introduction-to-spring-cloud-config-server%2f&title=Spring%20Cloud%20Tutorials%20%e2%80%93%20Introduction%20to%20Spring%20Cloud%20Config%20Server" target="_blank" title="Click to share on LinkedIn"><span></span><span class="sharing-screen-reader-text">Click to share on LinkedIn (Opens in new window)</span></a></li>
                <li class="share-end"></li>
            </ul>
        </div>
    </div>
</div>

    </div>
</article>


<div class="comments">
	<div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "sivalabs" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>



<nav class="navigation post-navigation" role="navigation">
	<h2 class="screen-reader-text">Post navigation</h2>
	<div class="nav-links">
		<div class="nav-previous">
			<a href="/2017/08/spring-cloud-tutorials-auto-refresh-config-changes-using-spring-cloud-bus/" rel="next">
				<i class="fa fa-chevron-left"></i>
				<span class="post-title">Spring Cloud Tutorials – Auto Refresh Config Changes using Spring Cloud Bus</span>
			</a>
		</div>
		<div class="nav-next">
			<a href="/2016/09/getting-started-springboot-intellij-idea-community-edition/" rel="prev">
                <span class="post-title">Getting Started with SpringBoot in Intellij IDEA Community Edition
                    <i class="fa fa-chevron-right"></i>
                </span>
			</a>
		</div>
	</div>
</nav>

</main>

            </section>

            <section id="secondary" class="sidebar widget-area clearfix" role="complementary">
                
<aside id="zoom-social-icons-widget-2" class="widget zoom-social-icons-widget">
    <h3 class="widget-title">Follow Me</h3>

    <ul class="zoom-social-icons-list zoom-social-icons-list--with-canvas zoom-social-icons-list--rounded zoom-social-icons-list--no-labels">

        
        <li class="zoom-social_icons-list__item">
            <a class="zoom-social_icons-list__link"
               href="https://github.com/sivaprasadreddy"
               target="_blank">
                    <span class="zoom-social_icons-list-span socicon socicon-github"
                          data-hover-rule="background-color" data-hover-color="#221e1b"

                    ></span>
            </a>
        </li>
        

        
        <li class="zoom-social_icons-list__item">
            <a class="zoom-social_icons-list__link"
               href="https://twitter.com/sivalabs"
               target="_blank">
                    <span class="zoom-social_icons-list-span socicon socicon-twitter"
                          data-hover-rule="background-color" data-hover-color="#55acee"
                    ></span>
            </a>
        </li>
        

        

        

        
        <li class="zoom-social_icons-list__item">
            <a class="zoom-social_icons-list__link"
               href="https://in.linkedin.com/in/siva-prasad-reddy-k-3a909172"
               target="_blank">
                    <span class="zoom-social_icons-list-span socicon socicon-linkedin"
                          data-hover-rule="background-color" data-hover-color="#3371b7"
                    ></span>
            </a>
        </li>

        

        
        <li class="zoom-social_icons-list__item">
            <a class="zoom-social_icons-list__link"
               href="http://www.youtube.com/c/SivaPrasadReddy%20"
               target="_blank">
                    <span class="zoom-social_icons-list-span socicon socicon-youtube"
                          data-hover-rule="background-color" data-hover-color="#e02a20"
                    ></span>
            </a>
        </li>
        
    </ul>
</aside>



<aside id="recent-posts-2" class="widget widget_recent_entries clearfix">
    <div class="widget-header">
        <h3 class="widget-title">Recent Posts</h3>
    </div>
    <ul>
        <li class="widget__item"><a class="widget__link" href="/2018/03/microservices-part-6-distributed-tracing-with-spring-cloud-sleuth-and-zipkin/">MicroServices - Part 6 : Distributed Tracing with Spring Cloud Sleuth and Zipkin</a></li>
        <li class="widget__item"><a class="widget__link" href="/2018/03/microservices-part-5-spring-cloud-zuul-proxy-as-api-gateway/">MicroServices - Part 5 : Spring Cloud Zuul Proxy as API Gateway</a></li>
        <li class="widget__item"><a class="widget__link" href="/2018/03/spring-cloud-netflix-circuit-breaker/">MicroServices - Part 4 : Spring Cloud Circuit Breaker using Netflix Hystrix</a></li>
        <li class="widget__item"><a class="widget__link" href="/2018/03/microservices-springcloud-eureka/">MicroServices - Part 3 : Spring Cloud Service Registry and Discovery</a></li>
        <li class="widget__item"><a class="widget__link" href="/2018/03/microservices-part-2-configuration-management-spring-cloud-config-vault/">MicroServices - Part 2 : Configuration Management with Spring Cloud Config and Vault</a></li>
    </ul>

</aside>

<aside id="top-posts-2" class="widget widget_top-posts clearfix">
    <div class="widget-header"><h3 class="widget-title">Top Posts &amp; Pages</h3></div>
    <ul>

        <li>
            <a href="/2016/03/why-springboot/"
            class="bump-view" data-bump-view="tp">
            Why SpringBoot?</a>
        </li>

        <li>
            <a href="/2016/03/how-springboot-autoconfiguration-magic/"
            class="bump-view" data-bump-view="tp">
            How SpringBoot AutoConfiguration magic works?</a>
        </li>

        <li>
            <a href="/2015/11/developing-a-simple-e-commerce-application-from-scratch-to-production-using-springboot/"
            class="bump-view" data-bump-view="tp">
            Developing a simple e-commerce application from scratch to production using SpringBoot</a>
        </li>

        <li>
            <a href="/2013/12/clean-code-dont-mix-different-levels-of-abstractions/"
            class="bump-view" data-bump-view="tp">
            Clean Code: Don’t mix different levels of abstractions</a>
        </li>

        <li>
            <a href="/2015/06/a-developers-perspective-on-spring-vs-javaee/"
            class="bump-view" data-bump-view="tp">
            A Developers Perspective on Spring vs JavaEE</a>
        </li>

        <li>
            <a href="/2015/07/my-life-as-software-developer-in-india/"
            class="bump-view" data-bump-view="tp">
            My Life as a Software Developer in India</a>
        </li>

        <li>
            <a href="/2011/01/10-things-to-become-outstanding-java/"
            class="bump-view" data-bump-view="tp">
            10 things to become an outstanding Java developer</a>
        </li>
</ul>
</aside>

<aside id="categories-2" class="widget widget_categories clearfix">
    <div class="widget-header"><h3 class="widget-title">Categories</h3></div>
    <ul>
        <li class="cat-item"><a href="/categories/best-practices">Best Practices</a></li>
        <li class="cat-item"><a href="/categories/blog">Blog</a></li>
        <li class="cat-item"><a href="/categories/books">Books</a></li>
        <li class="cat-item"><a href="/categories/ide">IDE</a></li>
        <li class="cat-item"><a href="/categories/java">Java</a></li>
        <li class="cat-item"><a href="/categories/javaee">JavaEE</a></li>
        <li class="cat-item"><a href="/categories/linux">Linux</a></li>
        <li class="cat-item"><a href="/categories/misc">Misc</a></li>
        <li class="cat-item"><a href="/categories/spring">Spring</a></li>
        <li class="cat-item"><a href="/categories/tips">Tips</a></li>
        <li class="cat-item"><a href="/categories/books">Books</a></li>
        <li class="cat-item"><a href="/categories/microservices">Microservices</a></li>
        <li class="cat-item"><a href="/categories/springboot">Springboot</a></li>
        <li class="cat-item"><a href="/categories/springcloud">Springcloud</a></li>
        <li class="cat-item"><a href="/categories/travis-ci">Travis-Ci</a></li>
        <li class="cat-item"><a href="/categories/videos">Videos</a></li>
    </ul>
</aside>


<aside id="tag_cloud-3" class="widget widget_tag_cloud clearfix">
    <div class="widget-header"><h3 class="widget-title">Tags</h3></div>
    <div class="tagcloud">

        <div class="widget__content">
            <a class="tag-cloud-link widget__link widget__link--taglist"
               href="/tags/android" title="Android">Android</a>
            <a class="tag-cloud-link widget__link widget__link--taglist"
               href="/tags/best-practices" title="Best Practices">Best Practices</a>
            <a class="tag-cloud-link widget__link widget__link--taglist"
               href="/tags/blog" title="Blog">Blog</a>
            <a class="tag-cloud-link widget__link widget__link--taglist"
               href="/tags/blogging" title="Blogging">Blogging</a>
            <a class="tag-cloud-link widget__link widget__link--taglist"
               href="/tags/books" title="Books">Books</a>
            <a class="tag-cloud-link widget__link widget__link--taglist"
               href="/tags/e-commerce" title="E-Commerce">E-Commerce</a>
            <a class="tag-cloud-link widget__link widget__link--taglist"
               href="/tags/ide" title="IDE">IDE</a>
            <a class="tag-cloud-link widget__link widget__link--taglist"
               href="/tags/it" title="IT">IT</a>
            <a class="tag-cloud-link widget__link widget__link--taglist"
               href="/tags/interviews" title="Interviews">Interviews</a>
            <a class="tag-cloud-link widget__link widget__link--taglist"
               href="/tags/jsf" title="JSF">JSF</a>
            <a class="tag-cloud-link widget__link widget__link--taglist"
               href="/tags/java" title="Java">Java</a>
            <a class="tag-cloud-link widget__link widget__link--taglist"
               href="/tags/javaee" title="JavaEE">JavaEE</a>
            <a class="tag-cloud-link widget__link widget__link--taglist"
               href="/tags/linux" title="Linux">Linux</a>
            <a class="tag-cloud-link widget__link widget__link--taglist"
               href="/tags/maven" title="Maven">Maven</a>
            <a class="tag-cloud-link widget__link widget__link--taglist"
               href="/tags/mybatis" title="MyBatis">MyBatis</a>
            <a class="tag-cloud-link widget__link widget__link--taglist"
               href="/tags/primefaces" title="PrimeFaces">PrimeFaces</a>
            <a class="tag-cloud-link widget__link widget__link--taglist"
               href="/tags/servlets-jsp" title="Servlets JSP">Servlets JSP</a>
            <a class="tag-cloud-link widget__link widget__link--taglist"
               href="/tags/spring" title="Spring">Spring</a>
            <a class="tag-cloud-link widget__link widget__link--taglist"
               href="/tags/springboot" title="SpringBoot">SpringBoot</a>
            <a class="tag-cloud-link widget__link widget__link--taglist"
               href="/tags/springcloud" title="SpringCloud">SpringCloud</a>
            <a class="tag-cloud-link widget__link widget__link--taglist"
               href="/tags/tips" title="Tips">Tips</a>
            <a class="tag-cloud-link widget__link widget__link--taglist"
               href="/tags/virtualbox" title="VirtualBox">VirtualBox</a>
            <a class="tag-cloud-link widget__link widget__link--taglist"
               href="/tags/books" title="books">books</a>
            <a class="tag-cloud-link widget__link widget__link--taglist"
               href="/tags/jcart" title="jcart">jcart</a>
            <a class="tag-cloud-link widget__link widget__link--taglist"
               href="/tags/jooq" title="jooq">jooq</a>
            <a class="tag-cloud-link widget__link widget__link--taglist"
               href="/tags/microservices" title="microservices">microservices</a>
            <a class="tag-cloud-link widget__link widget__link--taglist"
               href="/tags/rabbitmq" title="rabbitmq">rabbitmq</a>
            <a class="tag-cloud-link widget__link widget__link--taglist"
               href="/tags/springboot" title="springboot">springboot</a>
            <a class="tag-cloud-link widget__link widget__link--taglist"
               href="/tags/springcloud" title="springcloud">springcloud</a>
            <a class="tag-cloud-link widget__link widget__link--taglist"
               href="/tags/springsession" title="springsession">springsession</a>
            <a class="tag-cloud-link widget__link widget__link--taglist"
               href="/tags/travis-ci" title="travis-ci">travis-ci</a>
            <a class="tag-cloud-link widget__link widget__link--taglist"
               href="/tags/videos" title="videos">videos</a>
        </div>
    </div>
</aside>
            </section>
        </div>
        <div id="footer" class="footer-wrap">
            <footer id="colophon" class="site-footer container clearfix" role="contentinfo">
    <div id="footer-text" class="site-info">
        <span class="credit-link">
            <a href="/" target="_blank">SivaLabs</a>
            Powered by <a href="https://gohugo.io/" target="_blank">Hugo</a>
        </span>
    </div>
</footer>

        </div>
    </div>

</body>
</html>
